<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recipe Generator</title>
    <style>
        /* Overall Body Style */
        body {
    font-family: Arial, sans-serif;
    background-color: #f7f7f7;
    color: #333;
    display: flex;
    justify-content: space-between;
    align-items: center;
    height: 100vh;
    margin: 0;
    padding: 0;
    overflow: hidden;
    box-sizing: border-box; /* Ensures consistent sizing */
}

/* Chat container */
.chat-container {
    background-color: rgba(255, 255, 255, 0.9);
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    width: 35%;
    max-width: 600px;
    max-height: 90%; /* Limit height to fit within the viewport */
    box-sizing: border-box;
    margin-right: 50px;
    overflow-y: auto; /* Enable scrolling if content exceeds height */
}

/* Header styles */
h2, h3 {
    color: #4CAF50;
    margin-bottom: 10px;
}

/* Input and button styling */
select, input, button {
    width: 100%;
    padding: 10px;
    margin: 10px 0;
    border: 1px solid #ccc;
    border-radius: 5px;
    font-size: 16px;
    box-sizing: border-box;
}

button {
    background-color: #4CAF50;
    color: white;
    cursor: pointer;
    transition: background-color 0.3s ease;
    border: none;
}

button:hover {
    background-color: #45a049;
}

/* Message container */
.messages {
    max-height: 300px;
    overflow-y: auto;
    margin-bottom: 20px;
    padding-right: 10px;
    box-sizing: border-box;
}

.message {
    padding: 10px;
    margin-bottom: 10px;
    border-radius: 5px;
}

.message.user {
    background-color: #e1f5fe;
}

.message.bot {
    background-color: #e8f5e9;
}

/* Dropdown container with proper spacing */
.dropdown-container {
    position: relative;
    margin-bottom: 20px;
}

.dropdown-container select {
    width: 100%;
    padding: 10px;
    margin: 10px 0;
    border: 1px solid #ccc;
    border-radius: 5px;
    font-size: 16px;
    box-sizing: border-box;
}

/* Background container for rotating images */
.background-container {
    position: relative;
    width: 70%;
    height: 80%;
    display: flex;
    justify-content: center;
    align-items: center;
    margin-left: 40px;
    box-sizing: border-box;
}

.background-container img {
    position: absolute;
    width: 40%;
    max-width: 500px;
    max-height: 80%; /* Limit image size for smaller screens */
    opacity: 0;
    transition: opacity 1s ease-in-out;
}

.background-container img.active {
    opacity: 1;
    animation: rotate 4s linear infinite;
}

@keyframes rotate {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(180deg);
    }
}

/* Responsive Design */
@media (max-width: 768px) {
    body {
        flex-direction: column;
        justify-content: flex-start; /* Align elements properly */
        height: auto; /* Allow body to grow */
        overflow-y: auto; /* Enable scrolling if necessary */
        padding: 10px;
    }

    .chat-container, .background-container {
        width: 90%;
        margin: 10px auto;
        max-height: 80vh; /* Ensure containers fit within smaller viewports */
    }

    .background-container img {
        width: 70%;
    }
}

@media (max-width: 480px) {
    select, input, button {
        padding: 8px;
        font-size: 14px;
    }

    h2, h3 {
        font-size: 18px;
    }

    .messages {
        max-height: 200px;
    }

    .background-container img {
        width: 80%;
    }
}

.centered-bg-image {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 80%;
    height: 80%;
    background-image: url(health\ food\ life\ breakfast\ h5_1084265.jpg); /* Replace with your image URL */
    background-size: cover; /* Ensures the image covers the container */
    background-position: center; /* Centers the image */
    background-repeat: no-repeat; /* Prevents tiling */
    z-index: -1; /* Ensures it stays behind other content */
    border-radius: 10px; /* Optional: Adds rounded corners */
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); /* Optional: Adds a shadow effect */
}


/* Container for the top center image */
.top-center-image {
    position: absolute;
    top: 20px; /* Adjust positioning as needed */
    left: 50%;
    transform: translateX(-50%);
    text-align: center;
}

.top-center-image img {
    width: 100px; /* Adjust width for small size */
    height: auto; /* Maintain aspect ratio */
    border-radius: 50%; /* Optional: make it circular */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Initial shadow */
    transition: all 0.3s ease-in-out; /* Smooth hover effect */
    z-index: 2; /* Keep the image on top */
    position: relative;
}

.top-center-image img:hover {
    box-shadow: 0 0 20px rgba(255, 255, 255, 0.8), 0 0 30px rgba(255, 215, 0, 0.8);
    transform: scale(1.1); /* Slightly enlarge the image on hover */
}

/* Add text above the image */
.top-center-image::after {
    content: "AI Recipe Generator"; /* Text to display */
    position: absolute;
    margin-top: 12%;
    top: -30px; /* Position the text above the image */
    left: 50%;
    transform: translateX(-50%);
    font-size: 24px; /* Larger font size for heading effect */
    font-weight: bold;
    font-family: 'Arial', sans-serif; /* Choose a stylish font */
    color: rgba(0, 0, 0, 0); /* Make text invisible by default */
    text-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Subtle shadow */
    transition: color 0.3s ease-in-out, transform 0.3s ease-in-out; /* Smooth transition for text */
    z-index: 1; /* Ensure text is behind the image */
}

.top-center-image:hover::after {
    color: rgba(0, 0, 0, 0.9); /* Make the text visible on hover */
    transform: translateX(-50%) scale(1.1); /* Slightly enlarge the text */
}


/* Loading screen styles */
#loading-screen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #ffffff;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    flex-direction: column;
}

/* Loader animation container */
.loader-animation {
    text-align: center;
}

/* Loading bar container */
.loading-bar {
    width: 80%;
    max-width: 400px;
    height: 10px;
    background-color: #ddd;
    border-radius: 5px;
    overflow: hidden;
    margin: 10px auto;
    position: relative;
}

/* Progress bar */
.progress {
    height: 100%;
    width: 0;
    background-color: #4CAF50;
    transition: width 0.2s ease;
}

/* Loading percentage */
#loading-percentage {
    font-size: 18px;
    font-weight: bold;
    color: #333;
}

/* Optional: Prevent scrolling during loading */
body.loading {
    overflow: hidden;
}

    </style>
</head>
<body>

    <body>
        <!-- Loading screen -->
        <div id="loading-screen">
            <div class="loader-animation">
                <div class="loading-bar">
                    <div class="progress"></div>
                </div>
                <p id="loading-percentage">0%</p>
            </div>
        </div>
    
        <!-- Main content -->
        <div id="main-content" style="display: none;">
            <!-- Your website content goes here -->
            
            <!-- Add other elements -->
        </div>
    </body>
    





    <div class="background-container">
        <img src="plate1.jpg" alt="Plate 1">
        <img src="plate2.jpg" alt="Plate 2">
        <img src="plate3.jpg" alt="Plate 3">
        <img src="plate4.jpg" alt="Plate 4">
        <img src="plate5.jpg" alt="Plate 5">
    </div>

    <div class="top-center-image">
        <img src="download.png" alt="Top Center Image" />
    </div>
    


    <div class="chat-container">
        <div class="messages" id="messages"></div>

        <!-- Dropdown Container -->
        <div class="dropdown-container">
            <select id="cuisineDropdown">
                <option value="">Select Cuisine</option>
                <option value="Indian">Indian</option>
                <option value="Italian">Italian</option>
                <option value="Chinese">Chinese</option>
                <option value="Mexican">Mexican</option>
            </select>

            <select id="foodDropdown" disabled>
                <option value="">Select Food Name</option>
            </select>

            <select id="ingredientDropdown" disabled>
                <option value="">Select Ingredient</option>
            </select>
        </div>




        <input type="text" id="userInput" placeholder="Or enter a dish or ingredient..." />
        <button id="sendButton">Generate Recipe</button>
        <button id="refreshButton">Refresh</button>
    </div>

    <div class="centered-bg-image"></div>


    
       <script type="module">
        import { GoogleGenerativeAI } from "https://esm.run/@google/generative-ai";

        const API_KEY = "AIzaSyDbYj6DcSJ7Pp3jIG_Sj1CV_FwVhssvBvY";
        const genAI = new GoogleGenerativeAI(API_KEY);
        const model = genAI.getGenerativeModel({ model: "gemini-1.5-flash" });

        const cuisineData = {
            Indian: ['Biryani', 'Dal Tadka', 'Butter Chicken'],
            Italian: ['Pizza', 'Pasta', 'Lasagna'],
            Chinese: ['Fried Rice', 'Chow Mein', 'Manchurian'],
            Mexican: ['Tacos', 'Burritos', 'Quesadillas']
        };

        const ingredientData = {
            'Biryani': ['Rice', 'Chicken', 'Spices', 'Yogurt'],
            'Pizza': ['Flour', 'Cheese', 'Tomato', 'Olives'],
            'Fried Rice': ['Rice', 'Vegetables', 'Soy Sauce', 'Egg'],
            'Tacos': ['Tortilla', 'Chicken', 'Lettuce', 'Cheese']
        };

        function updateFoodDropdown(cuisine) {
            const foodDropdown = document.getElementById('foodDropdown');
            const foodOptions = cuisineData[cuisine] || [];
            foodDropdown.innerHTML = '<option value="">Select Food Name</option>';
            foodOptions.forEach(food => {
                const option = document.createElement('option');
                option.value = food;
                option.textContent = food;
                foodDropdown.appendChild(option);
            });
            foodDropdown.disabled = foodOptions.length === 0;
            document.getElementById('ingredientDropdown').disabled = true;
            document.getElementById('ingredientDropdown').innerHTML = '<option value="">Select Ingredient</option>';
        }

        function updateIngredientDropdown(food) {
            const ingredientDropdown = document.getElementById('ingredientDropdown');
            const ingredients = ingredientData[food] || [];
            ingredientDropdown.innerHTML = '<option value="">Select Ingredient</option>';
            ingredients.forEach(ingredient => {
                const option = document.createElement('option');
                option.value = ingredient;
                option.textContent = ingredient;
                ingredientDropdown.appendChild(option);
            });
            ingredientDropdown.disabled = ingredients.length === 0;
        }

        document.getElementById('cuisineDropdown').addEventListener('change', (event) => {
            updateFoodDropdown(event.target.value);
        });

        document.getElementById('foodDropdown').addEventListener('change', (event) => {
            updateIngredientDropdown(event.target.value);
        });

        document.getElementById('sendButton').addEventListener('click', async () => {
            const userInput = document.getElementById('userInput').value.trim();
            const selectedCuisine = document.getElementById('cuisineDropdown').value;
            const selectedFood = document.getElementById('foodDropdown').value;
            const selectedIngredient = document.getElementById('ingredientDropdown').value;

            if (!userInput && !selectedFood && !selectedIngredient) return;

            const messagesDiv = document.getElementById('messages');
            const userMessageDiv = document.createElement('div');
            userMessageDiv.className = 'message user';
            userMessageDiv.textContent = userInput || `${selectedCuisine} - ${selectedFood} with ${selectedIngredient}`;
            messagesDiv.appendChild(userMessageDiv);

            document.getElementById('userInput').value = '';
            document.getElementById('sendButton').disabled = true;

            try {
                const prompt = `Generate a recipe for ${userInput || `${selectedCuisine} ${selectedFood} with ${selectedIngredient}`}`;
                const result = await model.generateContent(prompt);
                const response = await result.response;
                const text = await response.text();

                // Format the recipe text into steps
                const formattedRecipe = formatRecipe(text);

                const botMessageDiv = document.createElement('div');
                botMessageDiv.className = 'message bot';
                botMessageDiv.innerHTML = formattedRecipe;
                messagesDiv.appendChild(botMessageDiv);
                messagesDiv.scrollTop = messagesDiv.scrollHeight;
            } catch (error) {
                console.error('Error generating recipe:', error);
                                // Handle error gracefully if recipe generation fails
                                const botMessageDiv = document.createElement('div');
                botMessageDiv.className = 'message bot';
                botMessageDiv.textContent = 'Sorry, I encountered an issue while generating the recipe. Please try again.';
                messagesDiv.appendChild(botMessageDiv);
                messagesDiv.scrollTop = messagesDiv.scrollHeight;
            } finally {
                document.getElementById('sendButton').disabled = false;
            }
        });

        // Format the recipe response into steps
        function formatRecipe(recipeText) {
            const lines = recipeText.split('\n');
            let formattedRecipe = '<div class="recipe"><h3>Recipe Steps:</h3><div class="steps">';
            lines.forEach(line => {
                if (line.trim()) {
                    formattedRecipe += `<div class="step">${line.trim()}</div>`;
                }
            });
            formattedRecipe += '</div></div>';
            return formattedRecipe;
        }
        const images = document.querySelectorAll('.background-container img');
        let currentIndex = 0;

        function showNextImage() {
            images.forEach(img => img.classList.remove('active'));
            images[currentIndex].classList.add('active');
            currentIndex = (currentIndex + 1) % images.length;
        }

        setInterval(showNextImage, 4000);
        showNextImage();





        document.body.classList.add('loading'); // Prevent scrolling during loading

const progressBar = document.querySelector('.progress');
const percentageText = document.getElementById('loading-percentage');
const mainContent = document.getElementById('main-content');
const loadingScreen = document.getElementById('loading-screen');

const assets = document.querySelectorAll('img, script, link[rel="stylesheet"], video, audio');
const totalAssets = assets.length;
let loadedAssets = 0;

// Fallback: Simulated Progress
let simulatedProgress = 0;
const simulatedInterval = setInterval(() => {
    simulatedProgress = Math.min(simulatedProgress + 1, 100);
    progressBar.style.width = `${simulatedProgress}%`;
    percentageText.textContent = `${simulatedProgress}%`;

    if (simulatedProgress >= 100) {
        clearInterval(simulatedInterval);
        completeLoading();
    }
}, 100); // Simulated every 100ms

// Real Asset Loading
assets.forEach((asset) => {
    let loaded = false;

    function markAsLoaded() {
        if (!loaded) {
            loaded = true;
            loadedAssets++;
            const realProgress = Math.floor((loadedAssets / totalAssets) * 100);
            progressBar.style.width = `${Math.max(realProgress, simulatedProgress)}%`;
            percentageText.textContent = `${Math.max(realProgress, simulatedProgress)}%`;

            if (loadedAssets === totalAssets && simulatedProgress >= 100) {
                clearInterval(simulatedInterval);
                completeLoading();
            }
        }
    }

    if (asset.complete) {
        markAsLoaded(); // Already loaded assets
    } else {
        asset.addEventListener('load', markAsLoaded);
        asset.addEventListener('error', markAsLoaded);

        setTimeout(markAsLoaded, 5000); // Fallback after 5 seconds
    }
});

// Completion Logic
function completeLoading() {
    loadingScreen.style.display = 'none';
    mainContent.style.display = 'block';
    document.body.classList.remove('loading');
}


    </script>
</body>
</html>
